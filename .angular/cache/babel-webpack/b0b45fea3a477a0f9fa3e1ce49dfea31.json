{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./../../shared/googlemaps/google-places/google-getaddress.service\";\n\nfunction RegisterComponent_h6_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h6\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"*\", ctx_r0.errorRegisterMessage, \"\");\n  }\n}\n\nfunction RegisterComponent_h6_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h6\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"*\", ctx_r1.errorRegisterMessage, \"\");\n  }\n}\n\nfunction RegisterComponent_h6_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h6\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"*\", ctx_r2.errorRegisterMessage, \"\");\n  }\n}\n\nfunction RegisterComponent_h6_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h6\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"*\", ctx_r3.errorRegisterMessage, \"\");\n  }\n}\n\nconst _c0 = function () {\n  return [\"/login\"];\n};\n\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(authSvc, router, getaddr) {\n      this.authSvc = authSvc;\n      this.router = router;\n      this.getaddr = getaddr;\n      this.registerForm = new FormGroup({\n        email: new FormControl(''),\n        password: new FormControl(''),\n        displayName: new FormControl(''),\n        number: new FormControl(''),\n        homeAdress: new FormControl(''),\n        workAdress: new FormControl('')\n      });\n      this.liberarBotao = true;\n      this.contadorMetodos = 0;\n    }\n\n    ngOnInit() {}\n\n    onGetAddressHome(place) {\n      this.contadorMetodos++;\n      this.liberarBotao = this.verificaQuantMetodos();\n      this.getaddr.getAddress(place).then(coords => {\n        this.homeAdressLatLng = coords;\n        console.log(this.homeAdressLatLng);\n      });\n    }\n\n    onGetAddressWork(place) {\n      this.contadorMetodos++;\n      this.liberarBotao = this.verificaQuantMetodos();\n      this.getaddr.getAddress(place).then(coords => {\n        this.workAdressLatLng = coords;\n        console.log(this.workAdressLatLng);\n      });\n    }\n\n    verificaQuantMetodos() {\n      if (this.contadorMetodos != 1 && this.contadorMetodos != 0) {\n        return false;\n      }\n\n      return true;\n    }\n\n    onRegister() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let name = document.getElementById('name').value;\n        let telefone = document.getElementById('telefone').value;\n        console.log(name);\n\n        if (name == '') {\n          this.verificaErrorForm = 'nome';\n          this.errorRegisterMessage = 'Verifique o campo digitado';\n        } else if (telefone == '') {\n          this.verificaErrorForm = 'telefone';\n          this.errorRegisterMessage = 'Verifique o campo digitado';\n        } else {\n          try {\n            const {\n              email,\n              password,\n              displayName,\n              number\n            } = this.registerForm.value;\n            const user = yield this.authSvc.register(email, password, displayName, number, this.homeAdressLatLng, this.workAdressLatLng);\n\n            if (user && user.code == null) {\n              this.router.navigate(['/dashboard']);\n            } else {\n              if (user == \"auth/invalid-email\") {\n                this.verificaErrorForm = 'email';\n                this.errorRegisterMessage = 'Email inválido';\n              } else if (user == \"auth/email-already-in-use\") {\n                this.verificaErrorForm = 'email';\n                this.errorRegisterMessage = 'Email em uso';\n              } else {\n                this.verificaErrorForm = 'senha';\n                this.errorRegisterMessage = 'Senha fraca';\n              }\n            }\n          } catch (error) {}\n        }\n      });\n    }\n\n  }\n\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.GoogleGetaddressService));\n  };\n\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 45,\n    vars: 9,\n    consts: [[1, \"col-md-5\", \"mx-auto\", \"mt-5\", \"mb-5\"], [1, \"card\"], [1, \"card-body\"], [1, \"text-center\", \"font-weight-bold\"], [1, \"bg-verde\", \"mt-0\", \"mb-2\", \"d-inline-block\", \"mx-auto\", \"ln-red-2\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"email\", \"formControlName\", \"email\", \"required\", \"\", \"ngModel\", \"\", 1, \"form-control\", 3, \"email\"], [\"class\", \"mb-3  text-verde text-sm mb-2\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"formControlName\", \"password\", \"required\", \"\", \"placeholder\", \"M\\u00EDnimo 6 caracteres\", 1, \"form-control\"], [\"for\", \"displayName\"], [\"id\", \"name\", \"name\", \"name\", \"type\", \"text\", \"formControlName\", \"displayName\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"telefone\"], [\"id\", \"telefone\", \"type\", \"text\", \"placeholder\", \"(47)98464-0015\", \"formControlName\", \"number\", 1, \"form-control\"], [\"for\", \"homeAdress\"], [\"adressType\", \"geocode\", 3, \"setAddress\"], [\"for\", \"workAdress\"], [\"type\", \"submit\", 1, \"btn\", \"btn-verde\", \"btn-lg\", \"btn-block\", \"mt-3\", 3, \"disabled\"], [1, \"form-group\", \"mt-3\"], [1, \"text-verde\", 3, \"routerLink\"], [1, \"ml-2\"], [1, \"mb-3\", \"text-verde\", \"text-sm\", \"mb-2\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h1\", 3);\n        i0.ɵɵtext(4, \"REGISTRAR\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"hr\", 4);\n        i0.ɵɵelementStart(6, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_6_listener() {\n          return ctx.onRegister();\n        });\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"label\", 7);\n        i0.ɵɵtext(9, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 8);\n        i0.ɵɵtemplate(11, RegisterComponent_h6_11_Template, 2, 1, \"h6\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 6);\n        i0.ɵɵelementStart(13, \"label\", 10);\n        i0.ɵɵtext(14, \"Senha\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 11);\n        i0.ɵɵtemplate(16, RegisterComponent_h6_16_Template, 2, 1, \"h6\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 6);\n        i0.ɵɵelementStart(18, \"label\", 12);\n        i0.ɵɵtext(19, \"Nome Completo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 13);\n        i0.ɵɵtemplate(21, RegisterComponent_h6_21_Template, 2, 1, \"h6\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 6);\n        i0.ɵɵelementStart(23, \"label\", 14);\n        i0.ɵɵtext(24, \"Telefone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 15);\n        i0.ɵɵtemplate(26, RegisterComponent_h6_26_Template, 2, 1, \"h6\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 6);\n        i0.ɵɵelementStart(28, \"label\", 16);\n        i0.ɵɵtext(29, \"Endere\\u00E7o de Casa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵelementStart(31, \"GooglePlacesComponent\", 17);\n        i0.ɵɵlistener(\"setAddress\", function RegisterComponent_Template_GooglePlacesComponent_setAddress_31_listener($event) {\n          return ctx.onGetAddressHome($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 6);\n        i0.ɵɵelementStart(33, \"label\", 18);\n        i0.ɵɵtext(34, \"Endere\\u00E7o do trabalho\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelementStart(36, \"GooglePlacesComponent\", 17);\n        i0.ɵɵlistener(\"setAddress\", function RegisterComponent_Template_GooglePlacesComponent_setAddress_36_listener($event) {\n          return ctx.onGetAddressWork($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 19);\n        i0.ɵɵtext(38, \" Registrar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 20);\n        i0.ɵɵelementStart(40, \"p\");\n        i0.ɵɵtext(41, \" J\\u00E1 tem um conta?\");\n        i0.ɵɵelementStart(42, \"a\", 21);\n        i0.ɵɵelementStart(43, \"span\", 22);\n        i0.ɵɵtext(44, \"Entrar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"email\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.verificaErrorForm == \"email\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.verificaErrorForm == \"senha\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.verificaErrorForm == \"nome\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.verificaErrorForm == \"telefone\");\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"disabled\", ctx.liberarBotao);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(8, _c0));\n      }\n    },\n    styles: [\".ln-red-2[_ngcontent-%COMP%]{width:100%;height:1px}.btn-verde[_ngcontent-%COMP%]{background-color:#49c5b1}.text-verde[_ngcontent-%COMP%]{color:#49c5b1}\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}